<?xml version="1.0" encoding="UTF-8"?>
<protocol name="jay_popup_ext_v1">
  <copyright>
    Copyright © 2008-2013 Kristian Høgsberg
    Copyright © 2013      Rafael Antognolli
    Copyright © 2013      Jasper St. Pierre
    Copyright © 2010-2013 Intel Corporation
    Copyright © 2015-2017 Samsung Electronics Co., Ltd
    Copyright © 2015-2017 Red Hat Inc.
    Copyright © 2025      Julian Orth

    Permission is hereby granted, free of charge, to any person obtaining a
    copy of this software and associated documentation files (the "Software"),
    to deal in the Software without restriction, including without limitation
    the rights to use, copy, modify, merge, publish, distribute, sublicense,
    and/or sell copies of the Software, and to permit persons to whom the
    Software is furnished to do so, subject to the following conditions:

    The above copyright notice and this permission notice (including the next
    paragraph) shall be included in all copies or substantial portions of the
    Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
    FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
    THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
    LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
    DEALINGS IN THE SOFTWARE.
  </copyright>
  <interface name="jay_popup_ext_manager_v1" version="1">
    <description summary="manager for xdg_popup extensions">
      This global allows clients to create jay_popup_ext_v1 extension objects
      for xdg_popups.
    </description>
    <request name="destroy" type="destructor">
      <description summary="destroys this manager">
        This request has no effect on any created extension objects.
      </description>
    </request>
    <request name="get_ext">
      <description summary="creates a jay_popup_ext_v1 extension object">
        Each xdg_popup can have at most one jay_popup_ext_v1 extension object.
        Sending this request while another extension object exists causes the
        already_exists error to be emitted.

        The extension object must be destroyed before the xdg_popup. Otherwise
        the has_extension error is emitted.
      </description>
      <arg name="id" type="new_id" interface="jay_popup_ext_v1" summary="the new jay_popup_ext_v1"/>
      <arg name="popup" type="object" interface="xdg_popup" summary="the xdg_popup"/>
    </request>
    <enum name="error">
      <description summary="fatal error">
        These fatal protocol errors may be emitted in response to
        invalid requests.
      </description>
      <entry name="already_exists" value="1" summary="extension object already exists for the xdg_popup"/>
    </enum>
  </interface>
  <interface name="jay_popup_ext_v1" version="1">
    <description summary="xdg_popup extension object">
      This object can be used to perform additional operations on an xdg_popup.
    </description>
    <request name="destroy" type="destructor">
      <description summary="destroys this extension object">
        This request has no effect on ongoing operations started through this
        object.
      </description>
    </request>
    <request name="move">
      <description summary="start an interactive move">
        Start an interactive, user-driven move of the surface.

        This request must be used in response to some sort of user action
        like a button press, key press, or touch down event. The passed
        serial is used to determine the type of interactive move (touch,
        pointer, etc).

        The server may ignore move requests. For example, if the passed serial
        is no longer valid.

        If triggered, the surface will lose the focus of the device
        (wl_pointer, wl_touch, etc) used for the move. It is up to the
        compositor to visually indicate that the move is taking place, such as
        updating a pointer cursor, during the move. There is no guarantee
        that the device focus will return when the move is completed.
      </description>
      <arg name="seat" type="object" interface="wl_seat" summary="the wl_seat of the user event"/>
      <arg name="serial" type="uint" summary="the serial of the user event"/>
    </request>
    <request name="resize">
      <description summary="start an interactive resize">
        Start a user-driven, interactive resize of the surface.

        This request must be used in response to some sort of user action
        like a button press, key press, or touch down event. The passed
        serial is used to determine the type of interactive resize (touch,
        pointer, etc).

        The server may ignore resize requests. For example, if the passed serial
        is no longer valid.

        If triggered, the client will receive configure events with the
        expected sizes. The client must also acknowledge configure events using
        "ack_configure".

        If triggered, the surface also will lose the focus of the device
        (wl_pointer, wl_touch, etc) used for the resize. It is up to the
        compositor to visually indicate that the resize is taking place,
        such as updating a pointer cursor, during the resize. There is no
        guarantee that the device focus will return when the resize is
        completed.

        The edges parameter specifies how the surface should be resized, and
        is one of the values of the resize_edge enum. Values not matching
        a variant of the enum will cause the invalid_resize_edge protocol error.
        The compositor may use this information to update the surface position
        for example when dragging the top left corner. The compositor may also
        use this information to adapt its behavior, e.g. choose an appropriate
        cursor image.
      </description>
      <arg name="seat" type="object" interface="wl_seat" summary="the wl_seat of the user event"/>
      <arg name="serial" type="uint" summary="the serial of the user event"/>
      <arg name="edges" type="uint" enum="xdg_toplevel.resize_edge" summary="which edge or corner is being dragged"/>
    </request>
    <enum name="error">
      <description summary="fatal error">
        These fatal protocol errors may be emitted in response to
        invalid requests.
      </description>
      <entry name="invalid_resize_edge" value="0" summary="provided value is not a valid variant of the resize_edge enum"/>
      <entry name="has_extension" value="1" summary="the xdg_popup still has an extension object"/>
    </enum>
  </interface>
</protocol>